# مهمة: إضافة خاصية إرسال رابط تسجيل للفنانات

## الهدف
إضافة زر في صفحة إدارة الفنانين يسمح للمسؤول بإنشاء رابط دعوة يمكن إرساله للفنانة لإنشاء حسابها.

## المهام

- [x] 1. إنشاء جدول `artist_invitations` في Supabase لحفظ الدعوات
- [x] 2. إنشاء Supabase Edge Function لإنشاء رابط الدعوة
- [x] 3. إنشاء مكون Dialog لإرسال الدعوة في صفحة AdminArtists
- [x] 4. إنشاء صفحة Artist Signup للفنانات المدعوات
- [x] 5. إضافة Route جديد في App.tsx

---

## ملخص التغييرات

### 1. Migration جديد (`supabase/migrations/20251227100000_artist_invitations.sql`)
- جدول `artist_invitations` لحفظ دعوات الفنانات
- يتضمن: token فريد، البريد الإلكتروني، اسم الفنانة، تاريخ انتهاء الصلاحية
- Row Level Security للمسؤولين فقط

### 2. Edge Function جديد (`supabase/functions/create-artist-invitation/index.ts`)
- يُنشئ token آمن عشوائي (32 حرف)
- يتحقق من صلاحيات المسؤول
- يُنشئ الدعوة بصلاحية 7 أيام

### 3. تحديث صفحة AdminArtists (`src/pages/admin/AdminArtists.tsx`)
- زر "دعوة فنانة جديدة" في الهيدر
- Dialog لإدخال البريد والاسم
- عرض الرابط المُنشأ مع زر نسخ

### 4. صفحة جديدة ArtistSignup (`src/pages/ArtistSignup.tsx`)
- التحقق من صلاحية الرابط (token)
- نموذج تسجيل بسيط (الاسم، البريد، كلمة المرور)
- إنشاء الحساب مع صلاحية artist تلقائياً
- تحديث الدعوة كمستخدمة

### 5. تحديث App.tsx
- إضافة Route: `/artist-signup/:token`

---

## طريقة الاستخدام

1. المسؤول يفتح صفحة "إدارة الفنانين"
2. ينقر على "دعوة فنانة جديدة"
3. يُدخل البريد الإلكتروني والاسم (اختياري)
4. ينسخ الرابط ويُرسله للفنانة
5. الفنانة تفتح الرابط وتُسجل حسابها
6. يتم إنشاء الحساب مع صلاحية artist تلقائياً

## ملاحظات
- الرابط صالح لمدة 7 أيام فقط
- يمكن استخدام الرابط مرة واحدة فقط
- يجب نشر Edge Function على Supabase
